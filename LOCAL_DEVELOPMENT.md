# Local Development Setup

## Quick Start

1. **Start Convex Dev Server** (in one terminal):
```bash
npm run convex:dev
```
This will:
- Start the Convex dev server
- Generate/update `.env.local` with `NEXT_PUBLIC_CONVEX_URL`
- Watch for Convex function changes

2. **Start Next.js Dev Server** (in another terminal):
```bash
npm run dev
```

3. **Open your browser**:
```
http://localhost:3000
```

## Environment Variables for Local Development

Create `.env.local` file in the root directory:

```env
# Convex URL (will be auto-generated by `npx convex dev`)
NEXT_PUBLIC_CONVEX_URL=https://your-convex-deployment.convex.cloud

# Yahoo OAuth (for localhost - Yahoo doesn't allow localhost, so you'll need to use production URL)
# Note: Yahoo OAuth won't work on localhost, but you can still develop other features
YAHOO_CLIENT_ID=dj0yJmk9R29IaVg0cHpTUTliJmQ9WVdrOVltY3pPRXRNZHpjbWNHbzlNQT09JnM9Y29uc3VtZXJzZWNyZXQmc3Y9MCZ4PWU5
YAHOO_CLIENT_SECRET=6a0e810126f47f294d702bb80a9be08f242d6128
NEXT_PUBLIC_YAHOO_REDIRECT_URI=https://fantasy-hockey-analysis.vercel.app/api/yahoo/callback

# Together.ai (optional)
TOGETHER_API_KEY=your_key_here

# Convex Auth
CONVEX_AUTH_APPLICATION_ID=default
```

## Important Notes

1. **Yahoo OAuth**: Yahoo doesn't allow `localhost` URLs, so OAuth will redirect to your production Vercel URL. You can still develop other features locally.

2. **Convex URL**: Run `npm run convex:dev` first - it will create/update `.env.local` with the correct Convex URL.

3. **If you see "incorrect URL" error**: 
   - Make sure `NEXT_PUBLIC_CONVEX_URL` is set in `.env.local`
   - Restart the Next.js dev server after updating `.env.local`
   - Check that Convex dev server is running

## Troubleshooting

### "Incorrect URL" Error
- Check `.env.local` exists and has `NEXT_PUBLIC_CONVEX_URL`
- Restart Next.js dev server: `npm run dev`
- Make sure Convex dev server is running: `npm run convex:dev`

### UI Not Updating
- Hard refresh browser: `Cmd+Shift+R` (Mac) or `Ctrl+Shift+R` (Windows)
- Clear browser cache
- Check that you're running the latest code

### Yahoo OAuth Not Working Locally
- This is expected - Yahoo doesn't allow localhost
- Use production Vercel URL for OAuth testing
- Other features work fine locally

